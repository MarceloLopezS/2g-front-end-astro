---
import Carousel from "./ui/Carousel.astro";

interface Props {
  id?: string;
  className?: string;
  direction: "to top" | "to bottom" | "to left" | "to right";
  autoSlideOptions?: {
    delay: number; // In milliseconds
  };
  elementsOnViewport?: number; // Integer
  navButtonsWidth?: string;
}

const {
  id,
  className,
  direction,
  autoSlideOptions,
  elementsOnViewport,
  navButtonsWidth,
} = Astro.props;
---

<Carousel
  id={id}
  className={className}
  direction={direction}
  autoSlideOptions={autoSlideOptions}
  elementsOnViewport={elementsOnViewport}
  navButtonsWidth={navButtonsWidth}
>
  <slot />
</Carousel>

<script>
  import { CAROUSEL } from "./config/DOMSelectors";
  import { getAllDomElements } from "../../utils/pure";
  import handleCarousel from "./model/handleCarousel";

  getAllDomElements(CAROUSEL).forEach((carousel) => handleCarousel(carousel));
</script>
